@page
@using System.ComponentModel.DataAnnotations
@using Microsoft.EntityFrameworkCore
@section scripts{
   <partial name="_ValidationScriptsPartial" />
}
@model Cart
@{
    ViewData["Title"] = "Cart";
}
<h1>@ViewData["Title"]</h1>
<form method="post" >
  
  <div class="mb-3">
    <label class="form-label">Name</label>
    <input type="text" asp-for="order.Name"  class="form-control">
    <span asp-validation-for="order.Name" class="text-danger"></span>
  </div>
  <div class="mb-3">
    <label  asp-for="order.Number" class="form-label">Phone Number</label>
    <input type="text" asp-for="order.Number" class="form-control" >
    <span asp-validation-for="order.Number" class="text-danger"></span>
  </div>
  <div class="mb-3">
    <label class="form-label">Address</label>
    <input asp-for="order.Address" class="form-control" >
    <span asp-validation-for="order.Address" class="text-danger"></span>
  </div>
  <div class="container">
    <div class="row">
      <div class="col">
        Your Order:
      </div>
    </div>
  </div>
  <div class="container">
    @{
      if (Model.AddedClutches != null)
      {
        foreach (var item in Model.AddedClutches)
        {
          <div class="row"  >
            <div class="col-sm">
              <input type="hidden" asp-for="Index" value="@Model.AddedClutches.IndexOf(item)"/>
        Clutch, Brand: @item.Brand, Make and model: @item.Make_and_model, Diameter: @item.Diam, Price: @item.Price!
            </div>
      <div class="col-sm">
        <button type="submit" class="btn btn-primary btn-sm mb-1 cancel"  asp-page-handler="RemoveClutch" >Remove</button>
      </div>
    </div>
        }
      }
       if(Model.AddedGaskets != null)
        {
          foreach (var item in Model.AddedGaskets)
          {
            <div class="row">
              <div class="col-sm">
                 <input type="hidden" asp-for="Index" value="@Model.AddedGaskets.IndexOf(item)"/>
        Head Gasket, Brand: @item.Brand, Make and model: @item.Make_and_model, Diameter: @item.Engine_Code, Price: @item.Price!
              </div>
      <div class="col-sm">
        <button type="submit"   class="btn btn-primary btn-sm mb-1 cancel" asp-page-handler="RemoveGasket" >Remove</button>
      </div>
    </div>
          }
        }
    }
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>





